@@ -4,7 +4,7 @@
 
 from dataclasses import dataclass, field
 from typing import List, Optional, Dict, Any
 from datetime import datetime
 from pathlib import Path
 
 
@@ -31,6 +31,11 @@
     current_iteration: int = 0
     max_iterations: int = 6
     timeout_seconds: int = 1200
     start_time: datetime = field(default_factory=datetime.now)
     current_step: int = 0  # Track step number for commits
     
+    # Loop prevention
+    used_actions: set = field(default_factory=set)  # Track (tool_name, args, modification_count)
+    modifications_count: int = 0  # Increment when files are modified
+    file_cache: Dict[str, str] = field(default_factory=dict)  # Cache file contents
+    
